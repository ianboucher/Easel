%h1 Create a new listing for your Artwork

.row
  .col-md-8
    = form_for @artwork, html: { class: 'directUpload',
      data: { 'form-data' => (@s3_direct_post.fields), 'url' => @s3_direct_post.url,
      'host' => URI.parse(@s3_direct_post.url).host }, multipart: true } do |f|

      = form_group_tag(@artwork.errors[:title]) do
        = f.label :title
        = f.text_field :title, class: 'form-control',
          placeholder: "Enter the title of your piece here"

      = form_group_tag(@artwork.errors[:category]) do
        = f.label :category
        = f.text_field :category, class: 'form-control',
          placeholder: "Enter a category e.g. landscapes"

      = form_group_tag(@artwork.errors[:description]) do
        = f.label :description
        = f.text_area :description, rows: 4, class: 'form-control',
          placeholder: "Enter a brief description of you piece here"

      = form_group_tag(@artwork.errors[:price]) do
        = f.label :price
        = f.number_field :price, class: 'form-control form-narrow',
          placeholder: "Enter a price in USD here"

      = form_group_tag(@artwork.errors[:discount]) do
        = f.label :discount
        = f.number_field :discount, class: 'form-control form-narrow',
          placeholder: "Add an optional discount % here"
        %br/
        = fields_for :image do |img|
          = img.file_field :image, name: "images[]"

          %input#uploadart.btn.btn-primary{:type => "button", :value => "Upload"}

          .div
            %img#target
          .div
            %canvas#cropped_img{:height => "500", :style => "border:1px solid #d3d3d3;", :width => "750"}

        %br/
        = f.submit "Save", class: 'btn btn-success'

        #fine-uploader

-# %link{:href => "client/fine-uploader-new.css", :rel => "stylesheet"}
-# %script{:src => "client/fine-uploader.js"}
%script#qq-template{:type => "text/template"}
  .qq-uploader-selector.qq-uploader{"qq-drop-area-text" => "Drop files here"}
    .qq-total-progress-bar-container-selector.qq-total-progress-bar-container
      .qq-total-progress-bar-selector.qq-progress-bar.qq-total-progress-bar{"aria-valuemax" => "100", "aria-valuemin" => "0", "aria-valuenow" => "0", :role => "progressbar"}
    .qq-upload-drop-area-selector.qq-upload-drop-area{"qq-hide-dropzone" => ""}
      %span.qq-upload-drop-area-text-selector
    .qq-upload-button-selector.qq-upload-button
      %div Upload a file
    %span.qq-drop-processing-selector.qq-drop-processing
      %span Processing dropped files...
      %span.qq-drop-processing-spinner-selector.qq-drop-processing-spinner
    %ul.qq-upload-list-selector.qq-upload-list{"aria-live" => "polite", "aria-relevant" => "additions removals"}
      %li
        .qq-progress-bar-container-selector
          .qq-progress-bar-selector.qq-progress-bar{"aria-valuemax" => "100", "aria-valuemin" => "0", "aria-valuenow" => "0", :role => "progressbar"}
        %span.qq-upload-spinner-selector.qq-upload-spinner
        %span.qq-upload-file-selector.qq-upload-file
        %span.qq-edit-filename-icon-selector.qq-edit-filename-icon{"aria-label" => "Edit filename"}
        %input.qq-edit-filename-selector.qq-edit-filename{:tabindex => "0", :type => "text"}
          %span.qq-upload-size-selector.qq-upload-size
          %button.qq-btn.qq-upload-cancel-selector.qq-upload-cancel{:type => "button"} Cancel
          %button.qq-btn.qq-upload-retry-selector.qq-upload-retry{:type => "button"} Retry
          %button.qq-btn.qq-upload-delete-selector.qq-upload-delete{:type => "button"} Delete
          %span.qq-upload-status-text-selector.qq-upload-status-text{:role => "status"}
    %dialog.qq-alert-dialog-selector
      .qq-dialog-message-selector
      .qq-dialog-buttons
        %button.qq-cancel-button-selector{:type => "button"} Close
    %dialog.qq-confirm-dialog-selector
      .qq-dialog-message-selector
      .qq-dialog-buttons
        %button.qq-cancel-button-selector{:type => "button"} No
        %button.qq-ok-button-selector{:type => "button"} Yes
    %dialog.qq-prompt-dialog-selector
      .qq-dialog-message-selector
      %input{:type => "text"}
        .qq-dialog-buttons
          %button.qq-cancel-button-selector{:type => "button"} Cancel
          %button.qq-ok-button-selector{:type => "button"} Ok
